{# 
   Główny szablon strony logowania
   Zawiera formularz logowania i opcje rejestracji
#}
{% extends "login/layout.light.twig" %}

{% block title %}{{ LNG.welcome }}{% endblock %}

{% block bodyClass %}login-index{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-box">
        <h1>{{ LNG.welcome }}</h1>
        
        {% if error is defined and error %}
            <div class="error-message">
                {{ error }}
            </div>
        {% endif %}
        
        <form action="index.php?page=login" method="post">
            <div class="form-group">
                <label for="username">{{ LNG.login_username }}</label>
                <input type="text" name="username" id="username" required autofocus>
            </div>
            
            <div class="form-group">
                <label for="password">{{ LNG.login_password }}</label>
                <input type="password" name="password" id="password" required>
            </div>
            
            <div class="form-actions">
                <button type="submit" name="login" class="btn-primary">{{ LNG.login_button }}</button>
            </div>
            
            <div class="form-options">
                <div class="remember-me">
                    <input type="checkbox" name="remember" id="remember" value="1">
                    <label for="remember">{{ LNG.login_remember }}</label>
                </div>
                
                <div class="forgot-password">
                    <a href="index.php?page=lostpassword">{{ LNG.login_forgot_password }}</a>
                </div>
            </div>
        </form>
    </div>
    
    <div class="register-box">
        <h2>{{ LNG.register_title }}</h2>
        <p>{{ LNG.register_info }}</p>
        <a href="index.php?page=register" class="btn-secondary">{{ LNG.register_button }}</a>
    </div>
</div>

{% if serverNews is defined and serverNews %}
<div class="server-news">
    <h3>{{ LNG.server_news }}</h3>
    <div class="news-content">
        {{ serverNews|raw }}
    </div>
</div>
{% endif %}

<div class="server-stats">
    <h3>{{ LNG.server_stats }}</h3>
    <div class="stats-grid">
        <div class="stat-item">
            <div class="stat-value">{{ stats.users|number_format }}</div>
            <div class="stat-label">{{ LNG.stat_players }}</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">{{ stats.activeUsers|number_format }}</div>
            <div class="stat-label">{{ LNG.stat_active_players }}</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">{{ stats.onlineUsers|number_format }}</div>
            <div class="stat-label">{{ LNG.stat_online }}</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">{{ stats.universes|number_format }}</div>
            <div class="stat-label">{{ LNG.stat_universes }}</div>
        </div>
    </div>
</div>

<div class="language-selection">
    <div class="lang-label">{{ LNG.select_language }}</div>
    <div class="lang-options">
        {% for langCode, langName in languages %}
            <a href="index.php?lang={{ langCode }}" class="lang-option {% if langCode == currentLang %}active{% endif %}">
                <img src="styles/images/flags/{{ langCode }}.png" alt="{{ langName }}" title="{{ langName }}">
            </a>
        {% endfor %}
    </div>
</div>

<div class="footer">
    <div class="footer-links">
        <a href="index.php?page=disclaimer">{{ LNG.menu_disclaimer }}</a>
        <a href="index.php?page=rules">{{ LNG.menu_rules }}</a>
        <a href="index.php?page=contact">{{ LNG.menu_contact }}</a>
    </div>
    <div class="copyright">
        &copy; {{ "now"|date("Y") }} {{ LNG.game_name }}
    </div>
</div>
{% endblock %}
